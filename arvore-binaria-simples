#include <stdio.h>
#include <stdlib.h>

// Estrutura do no da arvore
typedef struct No {
    int valor;
    struct No* esq;
    struct No* dir;
} No;

// Funcao para criar um novo no
No* criarNo(int valor) {
    No* novo = (No*) malloc(sizeof(No));
    if (novo == NULL) {
        printf("Erro ao alocar memoria.\n");
        exit(1);
    }
    novo->valor = valor;
    novo->esq = NULL;
    novo->dir = NULL;
    return novo;
}

// Insercao em arvore de busca binaria
No* inserir(No* raiz, int valor) {
    if (raiz == NULL) {
        return criarNo(valor);
    }
    if (valor < raiz->valor) {
        raiz->esq = inserir(raiz->esq, valor);
    } else if (valor > raiz->valor) {
        raiz->dir = inserir(raiz->dir, valor);
    }
    return raiz;
}

// Caminhamento pre-ordem
void preOrdem(No* raiz) {
    if (raiz != NULL) {
        printf("%d ", raiz->valor);
        preOrdem(raiz->esq);
        preOrdem(raiz->dir);
    }
}

// Caminhamento em ordem
void emOrdem(No* raiz) {
    if (raiz != NULL) {
        emOrdem(raiz->esq);
        printf("%d ", raiz->valor);
        emOrdem(raiz->dir);
    }
}

// Caminhamento pos-ordem
void posOrdem(No* raiz) {
    if (raiz != NULL) {
        posOrdem(raiz->esq);
        posOrdem(raiz->dir);
        printf("%d ", raiz->valor);
    }
}

// Menu principal
int main() {
    No* raiz = NULL;
    int opcao, valor;

    do {
        printf("\n==== ARVORE BINARIA ====\n");
        printf("1 - Inserir valor\n");
        printf("2 - Exibir Pre-Ordem\n");
        printf("3 - Exibir Em-Ordem\n");
        printf("4 - Exibir Pos-Ordem\n");
        printf("0 - Sair\n");
        printf("Escolha: ");
        scanf("%d", &opcao);

        switch (opcao) {
            case 1:
                printf("Digite o valor: ");
                scanf("%d", &valor);
                raiz = inserir(raiz, valor);
                break;

            case 2:
                printf("Pre-Ordem: ");
                preOrdem(raiz);
                printf("\n");
                break;

            case 3:
                printf("Em-Ordem: ");
                emOrdem(raiz);
                printf("\n");
                break;

            case 4:
                printf("Pos-Ordem: ");
                posOrdem(raiz);
                printf("\n");
                break;

            case 0:
                printf("Saindo...\n");
                break;

            default:
                printf("Opcao invalida.\n");
        }
    } while (opcao != 0);

    return 0;
}
